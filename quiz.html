<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/quiz.css">
    <title>方言くいず</title>
</head>

<body>

    <header>
        <h1>方言くいず</h1>
        <p>方言か、方言じゃないか、当てましょう</p>
    </header>

    <div class="heat"></div>

    <main>
        <div class="container">
            <h2>次の言葉は方言？(全10問)</h2>
            <p id="questions" class="question"></p>
            <div id="buttonwhole">
                <button type="button" id="button1">1</button>
                <button type="button" id="button1">2</button>
                <button type="button" id="button1">3</button>
            </div>
            <p id="result">　</p>
            <p><input type="button" id="nextq" value="次の問題に進む" class="nextq"></input></p>
            <p id="finalresult"></p>

        </div>
    </main>

    <footer>©たかはし、いらすとや</footer>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>


        $(function () {
            $("#nextq").css("display", "none");
        });

        const quiz = [
            {
                question: "1問目：くらす",
                select: ["方言", "方言じゃない", "どちらもある"],
                correct: "どちらもある",

            }, {
                question: "2問目：つらたん",
                select: ["方言", "方言じゃない", "どちらもある"],
                correct: "方言じゃない",
            }, {
                question: "3問目：ぺらぺら",
                select: ["方言", "方言じゃない", "どちらもある"],
                correct: "方言じゃない",
            }, {
                question: "4問目：ほげる",
                select: ["方言", "方言じゃない", "どちらもある"],
                correct: "方言",
            }, {
                question: "5問目：なるほどですね",
                select: ["方言", "方言じゃない", "どちらもある"],
                correct: "方言",
            }, {
                question: "6問目：あざ",
                select: ["方言", "方言じゃない", "どちらもある"],
                correct: "方言じゃない",
            }, {
                question: "7問目：えげつな",
                select: ["方言", "方言じゃない", "どちらもある"],
                correct: "方言じゃない",
            }, {
                question: "8問目：どげんかせんと",
                select: ["方言", "方言じゃない", "どちらもある"],
                correct: "方言",
            }, {
                question: "9問目：せからしかけん",
                select: ["方言", "方言じゃない", "どちらもある"],
                correct: "方言",
            }, {
                question: "10問目：なおす",
                select: ["方言", "方言じゃない", "どちらもある"],
                correct: "どちらもある",
            }

        ];

        let quizindex = 0;
        const quizLenght = quiz.length;
        let score = 0;


        /*基礎*/



        const $button = document.getElementsByTagName("button")
        const buttonLenght = $button.length;

        const Quizset = () => {
            document.getElementById("questions").textContent = quiz[quizindex].question;

            let buttoncount = 0;
            while (buttoncount < buttonLenght) {
                $button[buttoncount].textContent = quiz[quizindex].select[buttoncount];
                buttoncount++;
            }
        }
        Quizset();

        const clickmove = (e) => {
            if (quiz[quizindex].correct === e.target.textContent) {
                $("#result").text("あたり！");
                $("#result").css("display", "inline");
                $("#buttonwhole").css("display", "none");
                score++;
            } else {
                $("#result").text("はずれ‥");
                $("#result").css("display", "inline");
                $("#buttonwhole").css("display", "none");
            }

            quizindex++;
            if (quizindex < quizLenght) {
                $("#nextq").show();
            } else {
                $("#finalresult").text("すべて終わりました。あなたの正解数は" + score + "/" + quizindex + "でした。")
            }
        }

        let moveindex = 0;
        while (moveindex < buttonLenght) {
            $button[moveindex].addEventListener("click", (e) => {
                clickmove(e);
            })
            moveindex++;
        }

        $("#nextq").on("click", function () {
            $("#buttonwhole").css("display", "inline");
            $("#result").css("display", "none");
            $("#nextq").hide();
            Quizset();
        });




    </script>
</body>

</html>